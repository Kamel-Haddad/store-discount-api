<html>
<head>
<style>
table {
  border-collapse: collapse;
  width: 100%;
}

th, td {
  text-align: left;
  padding: 8px;
}

tr:nth-child(even){background-color: #f2f2f2}

th {
  background-color: #4CAF50;
  color: white;
}
td, th{
	vertical-align: top;
}
</style>
</head>
<body>
<table>
<tr>
<th rowspan="2">
	H2 memory Database
</th>
<th>H2 Console</th>
<th>Connection parameters</th>
</tr>
<tr>
<td>
<a href="http://localhost:8080/h2-console/">http://localhost:8080/h2-console/</a>
</td>

<td>
<pre>
Saved Settings:Generic H2 (Embedded)
Setting Name:Generic H2 (Embedded)
  
Driver Class:org.h2.Driver
JDBC URL:jdbc:h2:mem:shopdb
User Name:sa
Password:password
</pre>
</td>

<tr>
<th rowspan="2">
	SWAGGER 
</th>
<th>SWAGGER UI</th>
<th></th>
</tr>
<tr>
<td>
<a href="http://localhost:8080/swagger-ui.html">http://localhost:8080/swagger-ui.html</a>
</td>
<td>
<pre>
</pre>
</td>

</tr>


<tr>
<th rowspan="2">
	Test and Coverage Report 
</th>
<th>Maven Command</th>
<th>Report</th>
</tr>
<tr>
<td>
mvn test
</td>
<td>
<a href="./jacoco/index.html">jacoco report</a>
</td>

</tr>



<tr>
<th rowspan="4">
	REST API
</th>
<th>
Get Order  
</th>
<th>
Generate Bill
</th>
</tr>
<tr>
<td><a href="http://localhost:8080/order/1">http://localhost:8080/order/1</a></td>
<td><a href="http://localhost:8080/order/2/bill">http://localhost:8080/order/1/bill</a></td>

</tr>

<tr>
<td>fetch the related Order from the database, including the related informations of USER, LINE ITEMS and PRODUCTS</td>
<td>Generate a BILL associated to the entered oderID, calculate the discounts and payable amount, 
insert the bill information and related discounts in the database and then mention the order as billed so for the next call the API just fetch the BILL from database</a></td>
</tr>

<tr>
<td>
<pre>
{
  "orderId": 1,
  "lineItems": [
    {
      "id": {
        "orderId": 1,
        "productId": 7
      },
      "product": {
        "productId": 7,
        "name": "Nutella",
        "unitPrice": 22.2,
        "productType": "GROCERIES"
      },
      "quantity": 1,
      "unitPrice": 22.2,
      "lineAmount": 22.2
    },
    {
      "id": {
        "orderId": 1,
        "productId": 1
      },
      "product": {
        "productId": 1,
        "name": "IPhone X",
        "unitPrice": 1099.99,
        "productType": "OTHERS"
      },
      "quantity": 1,
      "unitPrice": 1099.99,
      "lineAmount": 1099.99
    },
    {
      "id": {
        "orderId": 1,
        "productId": 8
      },
      "product": {
        "productId": 8,
        "name": "Mixed Nuts",
        "unitPrice": 15.25,
        "productType": "GROCERIES"
      },
      "quantity": 3,
      "unitPrice": 15.25,
      "lineAmount": 45.75
    },
    {
      "id": {
        "orderId": 1,
        "productId": 9
      },
      "product": {
        "productId": 9,
        "name": "Nescafe Gold",
        "unitPrice": 12.99,
        "productType": "GROCERIES"
      },
      "quantity": 2,
      "unitPrice": 12.99,
      "lineAmount": 25.98
    },
    {
      "id": {
        "orderId": 1,
        "productId": 2
      },
      "product": {
        "productId": 2,
        "name": "Flash Drive",
        "unitPrice": 25.5,
        "productType": "OTHERS"
      },
      "quantity": 2,
      "unitPrice": 25.5,
      "lineAmount": 51
    },
    {
      "id": {
        "orderId": 1,
        "productId": 3
      },
      "product": {
        "productId": 3,
        "name": "Webcam",
        "unitPrice": 29.99,
        "productType": "OTHERS"
      },
      "quantity": 1,
      "unitPrice": 29.99,
      "lineAmount": 29.99
    }
  ],
  "user": {
    "userId": 1,
    "userType": "AFFILIATE",
    "firstName": "Kamel",
    "lastName": "Haddad",
    "registrationDate": "2020-06-28T04:15:10.148+00:00"
  },
  "orderDate": "2020-06-28T04:15:10.157+00:00",
  "billed": true
}
</pre>
</td>
<td>
<pre>
{
  "billId": 2,
  "order": {
    "orderId": 2,
    "lineItems": [
      {
        "id": {
          "orderId": 2,
          "productId": 3
        },
        "product": {
          "productId": 3,
          "name": "Webcam",
          "unitPrice": 29.99,
          "productType": "OTHERS"
        },
        "quantity": 1,
        "unitPrice": 29.99,
        "lineAmount": 29.99
      },
      {
        "id": {
          "orderId": 2,
          "productId": 2
        },
        "product": {
          "productId": 2,
          "name": "Flash Drive",
          "unitPrice": 25.5,
          "productType": "OTHERS"
        },
        "quantity": 2,
        "unitPrice": 25.5,
        "lineAmount": 51
      },
      {
        "id": {
          "orderId": 2,
          "productId": 4
        },
        "product": {
          "productId": 4,
          "name": "Laptop",
          "unitPrice": 762,
          "productType": "OTHERS"
        },
        "quantity": 1,
        "unitPrice": 762,
        "lineAmount": 762
      },
      {
        "id": {
          "orderId": 2,
          "productId": 9
        },
        "product": {
          "productId": 9,
          "name": "Nescafe Gold",
          "unitPrice": 12.99,
          "productType": "GROCERIES"
        },
        "quantity": 2,
        "unitPrice": 12.99,
        "lineAmount": 25.98
      },
      {
        "id": {
          "orderId": 2,
          "productId": 10
        },
        "product": {
          "productId": 10,
          "name": "Pringles Chips",
          "unitPrice": 8.4,
          "productType": "GROCERIES"
        },
        "quantity": 4,
        "unitPrice": 8.4,
        "lineAmount": 33.6
      },
      {
        "id": {
          "orderId": 2,
          "productId": 8
        },
        "product": {
          "productId": 8,
          "name": "Mixed Nuts",
          "unitPrice": 15.25,
          "productType": "GROCERIES"
        },
        "quantity": 3,
        "unitPrice": 15.25,
        "lineAmount": 45.75
      }
    ],
    "user": {
      "userId": 2,
      "userType": "EMPLOYEE",
      "firstName": "Amer",
      "lastName": "Asha",
      "registrationDate": "2017-06-20T15:00:00.000+00:00"
    },
    "orderDate": "2020-06-28T04:15:10.157+00:00",
    "billed": true
  },
  "discounts": [
    {
      "discountId": 3,
      "description": "For every $100 on the bill, there is $5 discount",
      "discountAmount": 45
    },
    {
      "discountId": 4,
      "description": "EMPLOYEE has a discount of 30% on non-groceries items",
      "discountAmount": 252.9
    }
  ],
  "billingAddress": "dummy address",
  "shippingAddress": "dummy address",
  "totalDiscount": 297.9,
  "totalAmount": 948.32,
  "totalNonGroceriesAmount": 842.99,
  "payableAmount": 650.42
}
</pre>
</td>
</tr>
</table>

</body>
</html>